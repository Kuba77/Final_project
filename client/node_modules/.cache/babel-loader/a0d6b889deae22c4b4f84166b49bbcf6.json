{"ast":null,"code":"import axios from \"./api\";\nimport configData from \"../config/config.json\";\nimport { setAuthToken } from \"./api\";\nimport jwtDecode from \"jwt-decode\";\nexport async function logOrRegisterCustomer(value) {\n  try {\n    return await axios.post(configData.GOOGLE_LOGIN_URL, {\n      tokenId: value.tokenId\n    }).then(res => {\n      const user = jwtDecode(res.data.token);\n      return user;\n    });\n  } catch (e) {\n    return e.message;\n  }\n}\nexport async function registerCustomer(value) {\n  try {\n    return await axios.post(configData.CUSTOMERS_URL, value).then(res => {\n      return res;\n    });\n  } catch (error) {\n    console.log(\"res\", error.response.data);\n    return error.response.data;\n  }\n}\nexport async function loginCustomer(value) {\n  try {\n    return await axios.post(configData.CUSTOMERS_LOGIN_URL, value).then(res => {\n      sessionStorage.setItem(\"token\", res.data.token);\n      setAuthToken(res.data.token);\n      return jwtDecode(res.data.token);\n    });\n  } catch (error) {\n    return error.response.data;\n  }\n}\nexport function logoutCustomer() {\n  try {\n    sessionStorage.removeItem(\"token\");\n    setAuthToken(false);\n  } catch (error) {\n    return error.response.data;\n  }\n}\nexport async function updateCustomer(value) {\n  try {\n    return await axios.put(configData.CUSTOMERS_URL, value).then(res => {\n      return res.data;\n    });\n  } catch (error) {\n    return error.response.data;\n  }\n}\nexport async function updateCustomerPassword(value) {\n  try {\n    return await axios.put(configData.CUSTOMERS_PASSWORD_URL, value).then(res => {\n      return res.data;\n    });\n  } catch (error) {\n    return error.response.data;\n  }\n}","map":{"version":3,"sources":["/home/tirion/Desktop/Final_project/client/src/api/userApi.js"],"names":["axios","configData","setAuthToken","jwtDecode","logOrRegisterCustomer","value","post","GOOGLE_LOGIN_URL","tokenId","then","res","user","data","token","e","message","registerCustomer","CUSTOMERS_URL","error","console","log","response","loginCustomer","CUSTOMERS_LOGIN_URL","sessionStorage","setItem","logoutCustomer","removeItem","updateCustomer","put","updateCustomerPassword","CUSTOMERS_PASSWORD_URL"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,UAAP,MAAuB,uBAAvB;AACA,SAASC,YAAT,QAA6B,OAA7B;AACA,OAAOC,SAAP,MAAsB,YAAtB;AAEA,OAAO,eAAeC,qBAAf,CAAqCC,KAArC,EAA4C;AACjD,MAAI;AACF,WAAO,MAAML,KAAK,CACfM,IADU,CACLL,UAAU,CAACM,gBADN,EACwB;AACjCC,MAAAA,OAAO,EAAEH,KAAK,CAACG;AADkB,KADxB,EAIVC,IAJU,CAIJC,GAAD,IAAS;AACb,YAAMC,IAAI,GAAGR,SAAS,CAACO,GAAG,CAACE,IAAJ,CAASC,KAAV,CAAtB;AACA,aAAOF,IAAP;AACD,KAPU,CAAb;AAQD,GATD,CASE,OAAOG,CAAP,EAAU;AACV,WAAOA,CAAC,CAACC,OAAT;AACD;AACF;AAED,OAAO,eAAeC,gBAAf,CAAgCX,KAAhC,EAAuC;AAC5C,MAAI;AACF,WAAO,MAAML,KAAK,CAACM,IAAN,CAAWL,UAAU,CAACgB,aAAtB,EAAqCZ,KAArC,EAA4CI,IAA5C,CAAkDC,GAAD,IAAS;AACrE,aAAOA,GAAP;AACD,KAFY,CAAb;AAGD,GAJD,CAIE,OAAOQ,KAAP,EAAc;AACdC,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBF,KAAK,CAACG,QAAN,CAAeT,IAAlC;AAEA,WAAOM,KAAK,CAACG,QAAN,CAAeT,IAAtB;AACD;AACF;AAED,OAAO,eAAeU,aAAf,CAA6BjB,KAA7B,EAAoC;AACzC,MAAI;AACF,WAAO,MAAML,KAAK,CACfM,IADU,CACLL,UAAU,CAACsB,mBADN,EAC2BlB,KAD3B,EAEVI,IAFU,CAEJC,GAAD,IAAS;AACbc,MAAAA,cAAc,CAACC,OAAf,CAAuB,OAAvB,EAAgCf,GAAG,CAACE,IAAJ,CAASC,KAAzC;AACAX,MAAAA,YAAY,CAACQ,GAAG,CAACE,IAAJ,CAASC,KAAV,CAAZ;AACA,aAAOV,SAAS,CAACO,GAAG,CAACE,IAAJ,CAASC,KAAV,CAAhB;AACD,KANU,CAAb;AAOD,GARD,CAQE,OAAOK,KAAP,EAAc;AACd,WAAOA,KAAK,CAACG,QAAN,CAAeT,IAAtB;AACD;AACF;AACD,OAAO,SAASc,cAAT,GAA0B;AAC/B,MAAI;AACFF,IAAAA,cAAc,CAACG,UAAf,CAA0B,OAA1B;AACAzB,IAAAA,YAAY,CAAC,KAAD,CAAZ;AACD,GAHD,CAGE,OAAOgB,KAAP,EAAc;AACd,WAAOA,KAAK,CAACG,QAAN,CAAeT,IAAtB;AACD;AACF;AAED,OAAO,eAAegB,cAAf,CAA8BvB,KAA9B,EAAqC;AAC1C,MAAI;AACF,WAAO,MAAML,KAAK,CAAC6B,GAAN,CAAU5B,UAAU,CAACgB,aAArB,EAAoCZ,KAApC,EAA2CI,IAA3C,CAAiDC,GAAD,IAAS;AACpE,aAAOA,GAAG,CAACE,IAAX;AACD,KAFY,CAAb;AAGD,GAJD,CAIE,OAAOM,KAAP,EAAc;AACd,WAAOA,KAAK,CAACG,QAAN,CAAeT,IAAtB;AACD;AACF;AACD,OAAO,eAAekB,sBAAf,CAAsCzB,KAAtC,EAA6C;AAClD,MAAI;AACF,WAAO,MAAML,KAAK,CACf6B,GADU,CACN5B,UAAU,CAAC8B,sBADL,EAC6B1B,KAD7B,EAEVI,IAFU,CAEJC,GAAD,IAAS;AACb,aAAOA,GAAG,CAACE,IAAX;AACD,KAJU,CAAb;AAKD,GAND,CAME,OAAOM,KAAP,EAAc;AACd,WAAOA,KAAK,CAACG,QAAN,CAAeT,IAAtB;AACD;AACF","sourcesContent":["import axios from \"./api\";\nimport configData from \"../config/config.json\";\nimport { setAuthToken } from \"./api\";\nimport jwtDecode from \"jwt-decode\";\n\nexport async function logOrRegisterCustomer(value) {\n  try {\n    return await axios\n      .post(configData.GOOGLE_LOGIN_URL, {\n        tokenId: value.tokenId,\n      })\n      .then((res) => {\n        const user = jwtDecode(res.data.token);\n        return user;\n      });\n  } catch (e) {\n    return e.message;\n  }\n}\n\nexport async function registerCustomer(value) {\n  try {\n    return await axios.post(configData.CUSTOMERS_URL, value).then((res) => {\n      return res;\n    });\n  } catch (error) {\n    console.log(\"res\", error.response.data);\n\n    return error.response.data;\n  }\n}\n\nexport async function loginCustomer(value) {\n  try {\n    return await axios\n      .post(configData.CUSTOMERS_LOGIN_URL, value)\n      .then((res) => {\n        sessionStorage.setItem(\"token\", res.data.token);\n        setAuthToken(res.data.token);\n        return jwtDecode(res.data.token);\n      });\n  } catch (error) {\n    return error.response.data;\n  }\n}\nexport function logoutCustomer() {\n  try {\n    sessionStorage.removeItem(\"token\");\n    setAuthToken(false);\n  } catch (error) {\n    return error.response.data;\n  }\n}\n\nexport async function updateCustomer(value) {\n  try {\n    return await axios.put(configData.CUSTOMERS_URL, value).then((res) => {\n      return res.data;\n    });\n  } catch (error) {\n    return error.response.data;\n  }\n}\nexport async function updateCustomerPassword(value) {\n  try {\n    return await axios\n      .put(configData.CUSTOMERS_PASSWORD_URL, value)\n      .then((res) => {\n        return res.data;\n      });\n  } catch (error) {\n    return error.response.data;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}